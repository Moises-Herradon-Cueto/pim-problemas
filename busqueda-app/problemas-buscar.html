<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Buscar problemas</title>
  <link data-trunk rel="css" href="busqueda.css" />
  <link data-trunk rel="css" href="table.css" />

  <!-- Fontawesome -->
  <script src="https://kit.fontawesome.com/d85877a21f.js" crossorigin="anonymous"></script>

  <!-- MathJax -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <script>
    let typesetPending = false;
    // let typesetCount = 0;
    // let actualCount = 0;

    function typeset() {
      // typesetCount++;
      if (!typesetPending) {
        typesetPending = true;
        setTimeout(() => {
          // actualCount++;
          if (MathJax) { MathJax.typeset(); }
          typesetPending = false;
        }, 100);
      }
    }


    function get_sheet(a) {
      let link = document.createElement("a");
      link.id = "created-link";
      link.setAttribute("href", `/PIM/externos/intranet/hoja-descargar.php?problemas=${a}`);
      link.setAttribute("download", "hoja.zip");
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    async function uploadSheet(elt_id, sheet_id, with_solutions, file_type) {
      let file = document.getElementById(elt_id).files[0];
      let data = new FormData();
      data.set("file", file);
      data.set("id", sheet_id);
      data.set("solutions", with_solutions);
      data.set("type", file_type)
      let options = {
        method: "POST",
        body: data,
      }
      return await fetch("/PIM/externos/intranet/hoja-subir.php", options);
    }
  </script>


</head>

<body>
  Cargando...
</body>

</html>